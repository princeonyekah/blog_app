{% include "head.html" %}
{% include "sidebar.html" %}

<style>
    .container {
        max-width: 500px;
        margin-top: 20px;
    }

    h2 {
        color: #333;
        margin-bottom: 20px;
    }

    .form-group label {
        color: #333;
        font-weight: bold;
    }

    .form-control {
        margin-bottom: 20px;
    }

    .form-control.textarea {
        height: 200px;
    }

    .char-count {
        font-size: 12px;
        color: #666;
    }
</style>

<div class="container">
    <h2>Edit Profile</h2>
    <form action="/update_profile/{{ author.id }}" method="POST" enctype="multipart/form-data">
        <!-- Input fields for updating profile information -->
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" class="form-control" id="username" name="username" value="{{ author.name }}">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ author.email }}">
        </div>
        <div class="form-group">
            <label for="bio">Bio:</label>
            <textarea class="form-control textarea" id="bio" name="bio" maxlength="300">{{ author.bio }} </textarea>
            <span class="char-count">Characters remaining: <span id="char-count">300</span></span>
        </div>
        <div class="form-group">
            <label for="profilePic">Profile Picture:</label>
            <input type="file" class="form-control" id="profilePic" name="profilePic">
        </div>


        <!-- Submit button -->
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>

<script>
    // Character count for bio textarea
    document.getElementById('bio').addEventListener('input', function() {
        var maxLength = 300;
        var currentLength = this.value.length;
        var remaining = maxLength - currentLength;
        document.getElementById('char-count').textContent = remaining;
    });
</script>
